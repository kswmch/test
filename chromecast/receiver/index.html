<!DOCTYPE html>
<html>
<head>
    <title>Cast Timer Receiver</title>
    <link rel="stylesheet" href="style.css">
    <!-- Cast Receiver SDK ã®èª­ã¿è¾¼ã¿ -->
    <script src="//www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
</head>
<body>
    <div class="container">
        <div class="message-box">
            <h1>ä»Šæ—¥ã¯ãŠã—ã¾ã„ï¼</h1>
            <p>ã¾ãŸæ˜æ—¥éŠã¼ã†ã­ ğŸ˜Š</p>
        </div>
    </div>

    <script>
        const context = cast.framework.CastReceiverContext.getInstance();
        const options = new cast.framework.CastReceiverOptions();

        // ãƒ‡ãƒãƒƒã‚°ç”¨ãƒ­ã‚¬ãƒ¼ãƒ¬ãƒ™ãƒ«ã®è¨­å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦å¤‰æ›´ï¼‰
        // cast.framework.setLoggerLevel(cast.framework.LoggerLevel.DEBUG);

        // ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®åå‰ç©ºé–“
        const CUSTOM_NAMESPACE = 'urn:x-cast:com.example.casttimer';

        // Senderã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ä¿¡ã—ãŸã¨ãã®å‡¦ç†
        context.addCustomMessageListener(CUSTOM_NAMESPACE, function(customEvent) {
            console.log('Message received:', customEvent.data);
            // å¿…è¦ã§ã‚ã‚Œã°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦è¡¨ç¤ºã‚’å¤‰ãˆã‚‹ãªã©ã®å‡¦ç†ã‚’è¿½åŠ 
            if (customEvent.data.type === 'SHOW_END_SCREEN') {
                // ã™ã§ã«ç”»é¢ã¯è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã“ã“ã§ã¯ç‰¹ã«ä½•ã‚‚ã—ãªã„ã‹ã€
                // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹ãªã©ã®æ¼”å‡ºã‚‚å¯èƒ½
                console.log('Showing end screen (already displayed).');
            }
        });

        // Receiver ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹
        context.start(options).then(() => {
            console.log('Receiver application started successfully.');
        }).catch(error => {
            console.error('Error starting Receiver application:', error);
        });
    </script>
</body>
</html> 